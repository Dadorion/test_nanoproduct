# Тестовое задание для компании Нанопродукт
В задании требовалось:
   1. Реализовать сервис с API для записи человека на прием к врачу:
      + _На один слот может записаться только один человек_
      + _При попытке записаться на невозможное время будет возвращаться ошибка_
   3. Реализовать сервис, который будет оповещать пользователя:
      + за 1 день до приема
      + за 2 часа до приема 
   4. Логировать сообщения в .log файл.
   
   Для сборки проекта достаточно выполнить `npm i && npm run dev`.
      
## Сервис для записи на прием к врачу

В базе данных созданы следующие объекты:
   Доктор: Болодя,
   Юзер: Вася.

Доктор имеет два слота:
   - 2023-05-20T14:20:00.000+00:00
   - 2023-05-22T16:40:00.000+00:00

Чтобы протестировать севис регистрации, нужно отправить POST запрос на эндпоинт `http://localhost:5000/api/registration` <br>
В теле запроса в формате JSON передать объект:
```
   {
      "user_id": "645744b23c74d6562a52ae66",
      "doctor_id": "64575560ce61900fceda2a43",
      "slot": "2023-05-20T14:20:00.000+00:00"
      // "slot": "2023-05-22T16:40:00.000+00:00"
   }
```

Так же есть возможность посмотреть содержимое коллекций юзеров и докторов на соответствующих эндпоинтах: <br>
  - `http://localhost:5000/api/users`
  - `http://localhost:5000/api/doctors`


##  Сервис оповещений

Чтобы протестировать севис оповещений, нужно отправить POST запрос на эндпоинт `http://localhost:5000/notification/check_time` <br>
В теле запроса в формате JSON передать объект:
```
   {
      // "today": "2023-05-19T14:20:00.000+00:00" // за сутки до первого слота
      // "today": "2023-05-20T12:20:00.000+00:00" // за 2 часа до первого слота
      // "today": "2023-05-21T16:40:00.000+00:00" // за сутки до второго слота
      // "today": "2023-05-22T14:40:00.000+00:00" // за 2 часа до второго слота
   }
```
В этом объекте подготовлены контрольные таймштампы для проверки логироватния оповещений за сутки до первого слота, за 2 часа до первого слота, за сутки до второго слота, за 2 часа до второго слота соответственно.

Снимайте комментарий поочередно с каждого, чтобы убедиться, что напоминание было залогировано.
### Обо мне:
   - Заинтересован развиваться в back-end.
   - Работаю с базами данных PostgreSQL, MongoDB.
   - Пишу и поднимаю серверы на VPS

По этому проекту и другим вопросам пишите в Telegram: [@anton_babenko](https://t.me/anton_babenko)
